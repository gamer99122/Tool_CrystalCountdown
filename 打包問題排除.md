# æ‰“åŒ…å•é¡Œæ’é™¤æŒ‡å—

## ğŸ¯ æ¨è–¦çš„æ‰“åŒ…æ–¹æ³•

### æ–¹æ³• 1ï¼šä½¿ç”¨ç°¡åŒ–ç‰ˆæ‰¹æ¬¡æª”ï¼ˆæœ€ç°¡å–®ï¼‰

```bash
# é›™æ“ŠåŸ·è¡Œ
publish_simple.bat
```

é€™å€‹ç°¡åŒ–ç‰ˆæœ¬æœƒï¼š
1. åŸ·è¡Œç™¼å¸ƒæŒ‡ä»¤
2. é¡¯ç¤ºç™¼å¸ƒä½ç½®
3. è‡ªå‹•é–‹å•Ÿç™¼å¸ƒè³‡æ–™å¤¾

ç™¼å¸ƒä½ç½®ï¼š
```
bin\Release\net8.0-windows\win-x64\publish\DesktopAnnouncement.exe
```

---

### æ–¹æ³• 2ï¼šç›´æ¥ä½¿ç”¨å‘½ä»¤åˆ—ï¼ˆæ¨è–¦é–‹ç™¼è€…ï¼‰

é–‹å•Ÿå‘½ä»¤æç¤ºå­—å…ƒæˆ– PowerShellï¼ŒåŸ·è¡Œï¼š

```bash
# åŸºæœ¬ç‰ˆï¼ˆå–®ä¸€æª”æ¡ˆ + åŒ…å« Runtimeï¼‰
dotnet publish -c Release -r win-x64 --self-contained true -p:PublishSingleFile=true

# å®Œæ•´ç‰ˆï¼ˆåŒ…å«æ‰€æœ‰å„ªåŒ–ï¼‰
dotnet publish -c Release -r win-x64 --self-contained true -p:PublishSingleFile=true -p:IncludeNativeLibrariesForSelfExtract=true -p:EnableCompressionInSingleFile=true
```

---

### æ–¹æ³• 3ï¼šä½¿ç”¨ PowerShell è…³æœ¬

```bash
# å³éµé»æ“Š publish.ps1 â†’ ä½¿ç”¨ PowerShell åŸ·è¡Œ
```

å¦‚æœå‡ºç¾åŸ·è¡ŒåŸå‰‡éŒ¯èª¤ï¼š
```powershell
Set-ExecutionPolicy -Scope CurrentUser RemoteSigned
```

---

## ğŸ› å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

### å•é¡Œ 1ï¼šæ‰¹æ¬¡æª”ç„¡æ³•åŸ·è¡Œæˆ–é–ƒé€€

**åŸå› **ï¼šç·¨ç¢¼å•é¡Œæˆ–æ¬Šé™ä¸è¶³

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. å³éµé»æ“Š `publish_simple.bat`
2. é¸æ“‡ã€Œä»¥ç³»çµ±ç®¡ç†å“¡èº«åˆ†åŸ·è¡Œã€
3. æˆ–ä½¿ç”¨å‘½ä»¤åˆ—æ‰‹å‹•åŸ·è¡Œ

---

### å•é¡Œ 2ï¼šæ‰¾ä¸åˆ° dotnet æŒ‡ä»¤

**ç—‡ç‹€**ï¼š
```
'dotnet' ä¸æ˜¯å…§éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. ç¢ºèªå·²å®‰è£ .NET 8 SDK
2. ä¸‹è¼‰ä½ç½®ï¼šhttps://dotnet.microsoft.com/download/dotnet/8.0
3. å®‰è£å¾Œé‡æ–°é–‹å•Ÿå‘½ä»¤æç¤ºå­—å…ƒ

**æª¢æŸ¥æ–¹å¼**ï¼š
```bash
dotnet --version
```
æ‡‰è©²é¡¯ç¤ºé¡ä¼¼ `8.0.xxx`

---

### å•é¡Œ 3ï¼šç™¼å¸ƒå¤±æ•—

**ç—‡ç‹€**ï¼š
```
å»ºç½®å¤±æ•—
éŒ¯èª¤ CS0246
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. å…ˆåŸ·è¡Œ `dotnet restore`
2. å†åŸ·è¡Œ `dotnet build`
3. ç¢ºèªç„¡éŒ¯èª¤å¾Œå†åŸ·è¡Œ `dotnet publish`

---

### å•é¡Œ 4ï¼šæª”æ¡ˆè¢«ä½”ç”¨

**ç—‡ç‹€**ï¼š
```
ç„¡æ³•è¤‡è£½æª”æ¡ˆï¼Œå› ç‚ºæª”æ¡ˆæ­£åœ¨è¢«ä½¿ç”¨
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. é—œé–‰æ‰€æœ‰æ­£åœ¨åŸ·è¡Œçš„ DesktopAnnouncement.exe
2. ä½¿ç”¨å·¥ä½œç®¡ç†å“¡çµæŸè™•ç†ç¨‹åº
3. é‡æ–°åŸ·è¡Œæ‰“åŒ…

---

### å•é¡Œ 5ï¼šä¸­æ–‡äº‚ç¢¼

**åŸå› **ï¼šæ‰¹æ¬¡æª”ç·¨ç¢¼å•é¡Œ

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
ä½¿ç”¨ `publish_simple.bat` æˆ–ç›´æ¥ä½¿ç”¨å‘½ä»¤åˆ—

---

## âœ… æ‰‹å‹•æ‰“åŒ…æ­¥é©Ÿï¼ˆ100% å¯é ï¼‰

å¦‚æœæ‰€æœ‰æ‰¹æ¬¡æª”éƒ½å¤±æ•—ï¼Œè«‹æŒ‰ç…§ä»¥ä¸‹æ­¥é©Ÿæ‰‹å‹•æ“ä½œï¼š

### æ­¥é©Ÿ 1ï¼šé–‹å•Ÿå‘½ä»¤æç¤ºå­—å…ƒ
```
æŒ‰ Win + R â†’ è¼¸å…¥ cmd â†’ æŒ‰ Enter
```

### æ­¥é©Ÿ 2ï¼šåˆ‡æ›åˆ°å°ˆæ¡ˆç›®éŒ„
```bash
cd /d D:\C\Desk\Code\CrystalCountdown
```

### æ­¥é©Ÿ 3ï¼šåŸ·è¡Œç™¼å¸ƒæŒ‡ä»¤
```bash
dotnet publish -c Release -r win-x64 --self-contained true -p:PublishSingleFile=true
```

### æ­¥é©Ÿ 4ï¼šæ‰¾åˆ°ç™¼å¸ƒæª”æ¡ˆ
```bash
# é–‹å•Ÿç™¼å¸ƒè³‡æ–™å¤¾
start bin\Release\net8.0-windows\win-x64\publish
```

### æ­¥é©Ÿ 5ï¼šè¤‡è£½æª”æ¡ˆ
å°‡ä»¥ä¸‹æª”æ¡ˆè¤‡è£½åˆ°ä½ æƒ³è¦çš„ä½ç½®ï¼š
- `DesktopAnnouncement.exe` ï¼ˆä¸»ç¨‹å¼ï¼‰
- `config.txt` ï¼ˆè¨­å®šæª”ï¼‰

å®Œæˆï¼

---

## ğŸ“‚ ç™¼å¸ƒå¾Œçš„æª”æ¡ˆçµæ§‹

```
publish/
â”œâ”€â”€ DesktopAnnouncement.exe  (ç´„ 69 MB)
â”œâ”€â”€ config.txt               (è¨­å®šæª”)
â””â”€â”€ DesktopAnnouncement.pdb  (é™¤éŒ¯ç¬¦è™Ÿï¼Œå¯åˆªé™¤)
```

---

## ğŸ’¡ é€²éšé¸é …

### æ¸›å°æª”æ¡ˆå¤§å°

å¦‚æœ 69 MB å¤ªå¤§ï¼Œå¯ä»¥ä½¿ç”¨è£å‰ªç‰ˆæœ¬ï¼š

```bash
dotnet publish -c Release -r win-x64 --self-contained true -p:PublishSingleFile=true -p:PublishTrimmed=true
```

**æ³¨æ„**ï¼šè£å‰ªå¾Œéœ€è¦æ¸¬è©¦åŠŸèƒ½æ˜¯å¦æ­£å¸¸ï¼

---

### ä¸åŒ…å« Runtimeï¼ˆéœ€è¦ä½¿ç”¨è€…å®‰è£ .NETï¼‰

```bash
dotnet publish -c Release -r win-x64 --self-contained false -p:PublishSingleFile=true
```

æª”æ¡ˆå¤§å°ç´„ 5-10 MBï¼Œä½†ä½¿ç”¨è€…éœ€è¦å®‰è£ .NET 8 Runtimeã€‚

---

## ğŸ” é©—è­‰æ‰“åŒ…çµæœ

æ‰“åŒ…å®Œæˆå¾Œï¼Œè«‹ç¢ºèªï¼š

1. âœ… `DesktopAnnouncement.exe` å­˜åœ¨ä¸”å¤§å°ç´„ 69 MB
2. âœ… `config.txt` å­˜åœ¨ä¸”å…§å®¹æ­£ç¢º
3. âœ… é›™æ“ŠåŸ·è¡Œ .exe å¯ä»¥æ­£å¸¸å•Ÿå‹•
4. âœ… è¦–çª—é¡¯ç¤ºåœ¨å³ä¸‹è§’
5. âœ… æ‹–å‹•è¦–çª—å¾Œé‡æ–°å•Ÿå‹•ï¼Œä½ç½®è¢«è¨˜ä½

---

## ğŸ“ ä»ç„¶æœ‰å•é¡Œï¼Ÿ

å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½ç„¡æ³•è§£æ±ºï¼Œè«‹æä¾›ï¼š

1. éŒ¯èª¤è¨Šæ¯æˆªåœ–
2. åŸ·è¡Œçš„æŒ‡ä»¤
3. .NET SDK ç‰ˆæœ¬ï¼ˆ`dotnet --version`ï¼‰
4. Windows ç‰ˆæœ¬

é€™æ¨£æˆ‘å¯ä»¥æ›´ç²¾ç¢ºåœ°å¹«ä½ è§£æ±ºå•é¡Œï¼
